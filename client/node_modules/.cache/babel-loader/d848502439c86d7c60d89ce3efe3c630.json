{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\mern2\\\\client\\\\src\\\\components\\\\Posts\\\\Post\\\\Post.js\";\nimport React from \"react\";\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from \"@material-ui/core/\";\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { likePost, deletePost } from \"../../../actions/posts\";\nimport useStyles from \"./styles\";\n\nconst Post = _ref => {\n  let {\n    post,\n    setCurrentId\n  } = _ref;\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const Likes = () => {\n    if (post.likes.length > 0) {\n      return post.likes.find(like => {\n        var _user, _user$result, _user2, _user2$result;\n\n        return like === (((_user = user) === null || _user === void 0 ? void 0 : (_user$result = _user.result) === null || _user$result === void 0 ? void 0 : _user$result.googleId) || ((_user2 = user) === null || _user2 === void 0 ? void 0 : (_user2$result = _user2.result) === null || _user2$result === void 0 ? void 0 : _user2$result._id));\n      }) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ThumbUpAltIcon, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }\n      }), \"\\xA0\", post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${posts.likes.length} like${posts.likes.length > 1 ? 's' : ' '}`) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ThumbUpAltIcon, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }\n      }), \"\\xA0\", post.likes.length, \" \", post.likes.length === 1);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    className: classes.media,\n    image: post.selectedFile || \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\",\n    title: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, post.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, moment(post.createdAt).fromNow())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      color: \"white\"\n    },\n    size: \"small\",\n    onClick: () => setCurrentId(post._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MoreHorizIcon, {\n    fontSize: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, post.tags.map(tag => `#${tag} `))), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, post.title), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, post.message)), /*#__PURE__*/React.createElement(CardActions, {\n    className: classes.cardActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => dispatch(likePost(post._id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ThumbUpAltIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), \" Like \", post.likeCount, \" \"), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => dispatch(deletePost(post._id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }), \" Delete\")));\n};\n\nexport default Post;","map":{"version":3,"names":["React","Card","CardActions","CardContent","CardMedia","Button","Typography","ThumbUpAltIcon","DeleteIcon","MoreHorizIcon","moment","useDispatch","likePost","deletePost","useStyles","Post","post","setCurrentId","dispatch","classes","Likes","likes","length","find","like","user","result","googleId","_id","posts","card","media","selectedFile","title","overlay","name","createdAt","fromNow","overlay2","color","details","tags","map","tag","message","cardActions","likeCount"],"sources":["D:/projects/mern2/client/src/components/Posts/Post/Post.js"],"sourcesContent":["import React from \"react\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  Button,\n  Typography,\n} from \"@material-ui/core/\";\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\n\nimport { likePost, deletePost } from \"../../../actions/posts\";\nimport useStyles from \"./styles\";\n\nconst Post = ({ post, setCurrentId }) => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const Likes = () => {\n    if( post.likes.length > 0){\n      return post.likes.find((like) => like === ( user?.result?.googleId || user?.result?._id))\n        ?(\n          <><ThumbUpAltIcon fontSize=\"small\" />&nbsp;{post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${posts.likes.length} like${posts.likes.length > 1 ? 's' : ' '}`}</>\n        ) : (\n          <><ThumbUpAltIcon fontSize=\"small\"/>&nbsp;{post.likes.length} {post.likes.length === 1 }</>\n        )\n    }\n  }\n\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        className={classes.media}\n        image={\n          post.selectedFile ||\n          \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\n        }\n        title={post.title}\n      />\n      <div className={classes.overlay}>\n        <Typography variant=\"h6\">{post.name}</Typography>\n        <Typography variant=\"body2\">\n          {moment(post.createdAt).fromNow()}\n        </Typography>\n      </div>\n      <div className={classes.overlay2}>\n        <Button\n          style={{ color: \"white\" }}\n          size=\"small\"\n          onClick={() => setCurrentId(post._id)}\n        >\n          <MoreHorizIcon fontSize=\"medium\" />\n        </Button>\n      </div>\n      <div className={classes.details}>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\n          {post.tags.map((tag) => `#${tag} `)}\n        </Typography>\n      </div>\n      <Typography\n        className={classes.title}\n        gutterBottom\n        variant=\"h5\"\n        component=\"h2\"\n      >\n        {post.title}\n      </Typography>\n      <CardContent>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {post.message}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.cardActions}>\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          onClick={() => dispatch(likePost(post._id))}\n        >\n          <ThumbUpAltIcon fontSize=\"small\" /> Like {post.likeCount}{\" \"}\n        </Button>\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          onClick={() => dispatch(deletePost(post._id))}\n        >\n          <DeleteIcon fontSize=\"small\" /> Delete\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Post;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}